{"version":3,"sources":["webpack:///src/components/PushList.vue","webpack:///./src/components/PushList.vue?e1cb","webpack:///./src/components/PushList.vue","webpack:///src/pages/topicdetail.vue","webpack:///./src/pages/topicdetail.vue?a236","webpack:///./src/pages/topicdetail.vue"],"names":["PushList","getList","directives","_this","this","type","pageNo","keywords","queryIndex","data","list","msg","imgList","components_PushList","render","_vm","_h","$createElement","_c","_self","name","rawName","value","expression","staticClass","_l","item","key","id","attrs","src","avatar","_v","_s","nick","level","substring","created_at","to","path","query","topic-id","topic_name","_e","content","item2","index","class","_f","on","click","$event","previewImg","img","_m","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","topicdetail","editor_id","then","focus","is_focus","pages_topicdetail","staticStyle","position","top","z-index","width","href","marTop","fromWx","topicInfo","topic_top_pic","topic_content","count","checked","addFocus","hide","fromPage"],"mappings":"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","file":"static/js/1.e5a16f13327442b22b5e.js","sourcesContent":["<template>\r\n    <section v-load-more=\"getList\">\r\n        <div class=\"newTopicCont\">\r\n            <div v-for=\"item in publishList\" :key=\"item.id\" class=\"bgWhite topicList\">\r\n                <div class=\"authorRow clearfix\">\r\n                    <div class=\"headImg fl\"><img :src=\"item.avatar\"></div>\r\n                    <div class=\"authorInfo\">\r\n                        <div class=\"author\">{{item.nick ? item.nick : '匿名用户'}}<span class=\"level\">{{item.level ? 'Lv.' + item.level.substring(2) : ''}}</span></div>\r\n                        <div class=\"publishTime f10 color_9b\">{{item.created_at}}</div>\r\n                    </div>\r\n                </div>\r\n                <router-link :to=\"{path:'detail', query: { id: item.id}}\">\r\n                    <div class=\"toppicCont\">\r\n                        <span v-if=\"item.topic_name\" class=\"classify mainColor\" topic-id=\"'+item.topic_id+'\">#{{item.topic_name}}# </span>{{item.content}}\r\n                    </div>\r\n                </router-link>\r\n                <div class=\"toppicPic flex\">\r\n                    <div v-for=\"(item2,index) in item.thumb\" :key=\"index\" @click=\"previewImg(item.img,item.img[index])\" class=\"inline imgList\" :class=\"item | getImgClass\"><img :src=\"item2\"></div>\r\n                </div>\r\n                <div class=\"corp_row flex\">\r\n                    <div class=\"btn commitBtn\">\r\n                        <span class=\"icon icon_commit\"></span>\r\n                        <span class=\"num inline\">评论</span>\r\n                    </div>\r\n                    <div class=\"btn supportBtn\">\r\n                        <span class=\"icon icon_support\"></span>\r\n                        <span class=\"num inline\">10</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport {loadMore} from \"@/js/directives\"\r\nimport qs from 'qs';\r\nexport default {\r\n  data () {\r\n    return {\r\n        page: {\r\n            pageNo: 1,\r\n            type: 1,\r\n            isLoading : false,\r\n            isLoadEnd : false,\r\n        },\r\n        publishList: []\r\n    }\r\n  },\r\n  mounted () {\r\n      this.getList();\r\n  },\r\n  props: ['type','keywords','fromPage'],\r\n  mixins: [loadMore],\r\n  filters: {\r\n      getImgClass (item){\r\n          return item.img ? ((item.img.length > 2 && item.img.length != 4) ? 'three' : item.img.length > 1 ? 'two' : 'one') : '';\r\n      }\r\n  },\r\n  methods: {\r\n      getList () {\r\n          if(this.$store.state.isLoading || this.page.isLoadEnd) return;\r\n          this.$store.commit('setIsLoading',true);\r\n          let url = this.fromPage == '1' ? '/sns_wx/getTopicPostList' : '/sns_wx/snsIndex';\r\n          let queryIndex = {\r\n            'type' : this.type,\r\n            'next' : this.page.pageNo,\r\n            'keywords': this.keywords\r\n          };\r\n          let queryDetail = {'topic_id' : this.$route.query.id, 'next' : this.page.pageNo};\r\n          let data = this.fromPage == '1' ? queryDetail : queryIndex;\r\n          $axios.post(url,qs.stringify(data)).then((arg) => {\r\n              let data = arg.data;\r\n              this.$store.commit('setIsLoading',false)\r\n              if(data.msg == 'success'){\r\n                if( this.page.pageNo >= data.result.all_page){\r\n                    this.page.isLoadEnd = true;\r\n                }\r\n                this.page.pageNo ++;\r\n                if(!data.result) return;\r\n                this.publishList = this.publishList.concat(data.result.list);\r\n              }else{\r\n                  this.$store.commit('showAlertTip',data.msg);\r\n              }\r\n          }).catch(() => {\r\n              this.$store.commit('setIsLoading',false)\r\n              this.$store.commit('showAlertTip','服务繁忙')\r\n          })\r\n      },\r\n      replaceHttps (list){\r\n          return list.filter(function (item) {\r\n            return item ? item.replace('https','http') : '';\r\n        })\r\n      },\r\n      previewImg (imgList,src) {\r\n        let url = src ? src.replace('https','http') : '';\r\n        imgList = this.replaceHttps(imgList);\r\n        wx.previewImage({\r\n            current: url, // 当前显示图片的http链接\r\n            urls: imgList // 需要预览的图片http链接列表\r\n        });\r\n      }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.authorRow .headImg{\r\n    width: 1.7rem;\r\n    height: 1.7rem;\r\n}\r\n.authorInfo{\r\n    padding-left: 2.1rem;\r\n}\r\n.toppicCont{\r\n    line-height: 1.1rem;\r\n    margin: 0.8rem 0;\r\n    word-break: break-all;\r\n    text-overflow: ellipsis;\r\n    display: -webkit-box; \r\n    -webkit-box-orient: vertical; \r\n    -webkit-line-clamp: 2; \r\n    max-height: 2.2rem;\r\n    overflow: hidden;\r\n}\r\n.supportBtn{\r\n    right: 1rem;\r\n    top: 2rem;\r\n}\r\n.corp_row{\r\n    justify-content: flex-end;\r\n}\r\n.corp_row .btn{\r\n    padding: 0.45rem 1rem 0;\r\n    color:#b2b2b2;\r\n}\r\n.corp_row .btn .icon{\r\n    width: 0.95rem;\r\n    height: 0.95rem;\r\n    margin-right: 0.15rem;\r\n}\r\n.icon_transmit{\r\n    background-position: -10.7rem 0;\r\n}\r\n.icon_commit{\r\n    background-position: -5.9rem 0;\r\n}\r\n.icon_support{\r\n    background-position: -8.73rem 0;\r\n}\r\n.supportBtn.checked{\r\n    color: #F5A623;\r\n}\r\n.supportBtn.checked .icon_support{\r\n    background-position: -9.7rem 0;\r\n}\r\n.noTips{\r\n    padding-top: 1.5rem;\r\n}\r\n.noTips img{\r\n    display: block;\r\n    width: 3.5rem;\r\n    height: 3.5rem;\r\n    margin: 35% auto 0.8rem;\r\n}\r\n.right_flag{\r\n    height: 1.05rem;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    margin: auto;\r\n}\r\n.essence{\r\n    background: url('~@/images/essence.png') center no-repeat;\r\n    background-size: cover;\r\n    width: 2.3rem;\r\n    height: 1.05rem;\r\n}\r\n.topper{\r\n    background: url('~@/images/recomm.png') center no-repeat;\r\n    background-size: cover;\r\n    width: 2.3rem;\r\n    height: 1.05rem;\r\n    margin-left: 0.2rem;\r\n}\r\n.newTopic{\r\n    display: inline-block;\r\n    vertical-align: top;\r\n    width: 7.6rem;\r\n    height: 5.2rem;\r\n    border-radius: 0.3rem;\r\n    margin-right: 0.3rem;\r\n    background: #fff;\r\n    padding: 0.8rem 0.6rem 0.5rem;\r\n}\r\n.headImg{\r\n    width: 1.2rem;\r\n    height: 1.2rem;\r\n    border-radius: 100%;\r\n    background: #e8e8e8;\r\n    overflow: hidden;\r\n}\r\n.likeList .ellipse{\r\n    height: 1.2rem;\r\n    color:#1A1A1A;\r\n}\r\n.attentionRow{\r\n    font-size: 0.6rem;\r\n    padding: 0.2rem 0 0.5rem;\r\n}\r\n.topicName{\r\n    color: #4a4a4a;\r\n}\r\n.topicList{\r\n    padding: 1rem 0.8rem 0.6rem;\r\n    margin-bottom: 0.5rem;\r\n}\r\n.toppicPic{\r\n    flex-wrap: wrap;\r\n    justify-content: flex-start;\r\n}\r\n.topic_titleROw{\r\n    padding: 0.6rem 0 0.92rem;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/PushList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{directives:[{name:\"load-more\",rawName:\"v-load-more\",value:(_vm.getList),expression:\"getList\"}]},[_c('div',{staticClass:\"newTopicCont\"},_vm._l((_vm.publishList),function(item){return _c('div',{key:item.id,staticClass:\"bgWhite topicList\"},[_c('div',{staticClass:\"authorRow clearfix\"},[_c('div',{staticClass:\"headImg fl\"},[_c('img',{attrs:{\"src\":item.avatar}})]),_vm._v(\" \"),_c('div',{staticClass:\"authorInfo\"},[_c('div',{staticClass:\"author\"},[_vm._v(_vm._s(item.nick ? item.nick : '匿名用户')),_c('span',{staticClass:\"level\"},[_vm._v(_vm._s(item.level ? 'Lv.' + item.level.substring(2) : ''))])]),_vm._v(\" \"),_c('div',{staticClass:\"publishTime f10 color_9b\"},[_vm._v(_vm._s(item.created_at))])])]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{path:'detail', query: { id: item.id}}}},[_c('div',{staticClass:\"toppicCont\"},[(item.topic_name)?_c('span',{staticClass:\"classify mainColor\",attrs:{\"topic-id\":\"'+item.topic_id+'\"}},[_vm._v(\"#\"+_vm._s(item.topic_name)+\"# \")]):_vm._e(),_vm._v(_vm._s(item.content)+\"\\n                \")])]),_vm._v(\" \"),_c('div',{staticClass:\"toppicPic flex\"},_vm._l((item.thumb),function(item2,index){return _c('div',{key:index,staticClass:\"inline imgList\",class:_vm._f(\"getImgClass\")(item),on:{\"click\":function($event){_vm.previewImg(item.img,item.img[index])}}},[_c('img',{attrs:{\"src\":item2}})])})),_vm._v(\" \"),_vm._m(0,true)],1)}))])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"corp_row flex\"},[_c('div',{staticClass:\"btn commitBtn\"},[_c('span',{staticClass:\"icon icon_commit\"}),_vm._v(\" \"),_c('span',{staticClass:\"num inline\"},[_vm._v(\"评论\")])]),_vm._v(\" \"),_c('div',{staticClass:\"btn supportBtn\"},[_c('span',{staticClass:\"icon icon_support\"}),_vm._v(\" \"),_c('span',{staticClass:\"num inline\"},[_vm._v(\"10\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-45db8ff5\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/PushList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-45db8ff5\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PushList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PushList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PushList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-45db8ff5\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PushList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PushList.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"pageTopicDetail\">\r\n        <a v-if=\"fromapp\" href=\"https://a.app.qq.com/o/simple.jsp?pkgname=com.flowerplus.store\" class=\"mainButton tc\" style=\"position:fixed;top:0;z-index:120;width: 100%;\">打开FlowerPlus花加app，加入花友社区</a>\r\n        <a v-if=\"fromWx\" href=\"/sns_wx/index\" class=\"mainButton tc\" style=\"position:fixed;top:0;z-index:120;width: 100%;\">点此查看更多精华帖子</a>\r\n        <div class=\"topPanel bgWhite\"  :class=\"{marTop: fromWx}\">\r\n            <div class=\"banner\"><img :src=\"topicInfo.topic_top_pic\"> </div>\r\n            <div class=\"pad16 descrip\">\r\n                <div class=\"title f16 borderBottom\">{{topicInfo.topic_content}}</div>\r\n                <div class=\"attention flex mainColor2\">\r\n                    <div class=\"\">\r\n                        <span id=\"totalPost\">{{topicInfo.count}}</span>个帖子，已有<span id=\"totalFocus\">{{topicInfo.focus}}</span>人关注\r\n                    </div>\r\n                    <div id=\"attentionBtn\" class=\"tc f12 rlt\" :class=\"{checked: topicInfo.is_focus}\" @click=\"addFocus\"><span class=\"addIcon inline\" :class=\"{hide: topicInfo.is_focus}\"></span><span class=\"txt\">{{topicInfo.is_focus ? '已' :''}}关注</span></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"pad16 f16 newTitle\">最新</div>\r\n        <div class=\"newTopicCont\">\r\n          <PushList :fromPage=\"fromPage\"></PushList>\r\n        </div>\r\n        <router-link :to=\"{path:'posting',query:{id: topicInfo.id}}\"><div class=\"postingIconC\"></div></router-link>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PushList from \"@/components/PushList\"\r\nexport default {\r\n  data () {\r\n    return {\r\n      fromapp: false,\r\n      fromWx: false,\r\n      fromPage: 1,\r\n      topicInfo: {\r\n        id: '46',\r\n        editor_id: '123',\r\n        topic_top_pic: 'https://osstest.flowerplus.cn/sns_image/20171129/15119347058040.jpg',\r\n        topic_content: 'sssss',\r\n        count: '23',\r\n        focus: '12',\r\n        is_focus: true,\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    PushList,\r\n  },\r\n  methods: {\r\n    addFocus () {\r\n      if(this.$store.state.isLoading) return;\r\n      this.$store.commit('setIsLoading',true);\r\n      $axios.post('https://t.flowerplus.cn/sns_wx/addFocus',{\r\n        topic_id: this.topicInfo.id,\r\n        f_cid : this.topicInfo.editor_id,\r\n      }).then((data) => {\r\n        if(this.topicInfo.is_focus){\r\n          this.topicInfo.focus --\r\n        }else{\r\n          this.topicInfo.focus ++\r\n        }\r\n        this.topicInfo.is_focus = !this.topicInfo.is_focus;\r\n        this.$store.commit('setIsLoading',false)\r\n      }).catch(() => {\r\n        this.$store.commit('setIsLoading',false)\r\n        this.$store.commit('showAlertTip','操作失败！')\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.marTop{\r\n  margin-top:2rem;\r\n}\r\n.topPanel .banner{\r\n    max-height: 8rem;\r\n    overflow: hidden;\r\n}\r\n.descrip .title{\r\n    line-height: 1.4rem;\r\n    padding: 0.8rem 0;\r\n}\r\n.attention{\r\n    padding: 0.5rem 0;\r\n    align-items: center;\r\n}\r\n.newTitle{\r\n    line-height: 2.2rem;\r\n    background: #f5f5f5;\r\n}\r\n.postingIconC{\r\n    position: fixed;\r\n    width: 2.8rem;\r\n    height: 2.8rem;\r\n    bottom: 2rem;\r\n    right: 0.9rem;\r\n    background: url('~@/images/photo.png') no-repeat center #FC6B80;\r\n    background-size: 1.5rem 1.2rem;\r\n    box-shadow: 0 0 5px rgba(252,107,128,0.6);\r\n    border-radius: 100%;\r\n}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/topicdetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pageTopicDetail\"},[(_vm.fromapp)?_c('a',{staticClass:\"mainButton tc\",staticStyle:{\"position\":\"fixed\",\"top\":\"0\",\"z-index\":\"120\",\"width\":\"100%\"},attrs:{\"href\":\"https://a.app.qq.com/o/simple.jsp?pkgname=com.flowerplus.store\"}},[_vm._v(\"打开FlowerPlus花加app，加入花友社区\")]):_vm._e(),_vm._v(\" \"),(_vm.fromWx)?_c('a',{staticClass:\"mainButton tc\",staticStyle:{\"position\":\"fixed\",\"top\":\"0\",\"z-index\":\"120\",\"width\":\"100%\"},attrs:{\"href\":\"/sns_wx/index\"}},[_vm._v(\"点此查看更多精华帖子\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"topPanel bgWhite\",class:{marTop: _vm.fromWx}},[_c('div',{staticClass:\"banner\"},[_c('img',{attrs:{\"src\":_vm.topicInfo.topic_top_pic}})]),_vm._v(\" \"),_c('div',{staticClass:\"pad16 descrip\"},[_c('div',{staticClass:\"title f16 borderBottom\"},[_vm._v(_vm._s(_vm.topicInfo.topic_content))]),_vm._v(\" \"),_c('div',{staticClass:\"attention flex mainColor2\"},[_c('div',{},[_c('span',{attrs:{\"id\":\"totalPost\"}},[_vm._v(_vm._s(_vm.topicInfo.count))]),_vm._v(\"个帖子，已有\"),_c('span',{attrs:{\"id\":\"totalFocus\"}},[_vm._v(_vm._s(_vm.topicInfo.focus))]),_vm._v(\"人关注\\n                  \")]),_vm._v(\" \"),_c('div',{staticClass:\"tc f12 rlt\",class:{checked: _vm.topicInfo.is_focus},attrs:{\"id\":\"attentionBtn\"},on:{\"click\":_vm.addFocus}},[_c('span',{staticClass:\"addIcon inline\",class:{hide: _vm.topicInfo.is_focus}}),_c('span',{staticClass:\"txt\"},[_vm._v(_vm._s(_vm.topicInfo.is_focus ? '已' :'')+\"关注\")])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"pad16 f16 newTitle\"},[_vm._v(\"最新\")]),_vm._v(\" \"),_c('div',{staticClass:\"newTopicCont\"},[_c('PushList',{attrs:{\"fromPage\":_vm.fromPage}})],1),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{path:'posting',query:{id: _vm.topicInfo.id}}}},[_c('div',{staticClass:\"postingIconC\"})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-efb49a54\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/topicdetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-efb49a54\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./topicdetail.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./topicdetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./topicdetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-efb49a54\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./topicdetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/topicdetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}